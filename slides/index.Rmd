---
title: 'Recognising research software in academia'
subtitle: "subtitle"  
author: "<span style = 'font-size: 90%;'>Nicholas Tierney, Telethon Kids Institute</span>"
date: "<span style = 'font-size: 90%;'>UNSW <br><br> Friday 29th October, 2021 </span> <br><br> `r #icons::fa('link')` [LINK]() <br><br>`r #icons::fa('twitter')` [nj_tierney](https://twitter.com/nj_tierney)"
output:
  xaringan::moon_reader:
    lib_dir: libs
    css: [njtheme.css, extra.css, animate.css]
    nature:
      ratio: "16:9"
      titleSlideClass: ["left", "middle", "inverse"]
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---

layout: true
<div class="my-footer"><span>bit.ly/LINK • @nj_tierney</span></div> 

```{r setup, include=FALSE}
# options(htmltools.dir.version = FALSE, width = 120)
# NOTE TO SELF: The CSS styles were created in `create-njt-theme.R`
knitr::opts_chunk$set(
  fig.path = "figures/",
  cache.path = "cache/",
  fig.align = "center",
  fig.width = 13,
  fig.height = 6,
  fig.retina = 3,
  fig.show = "hold",
  external = TRUE,
  # dev = "svglite",
  # dev.args = list(bg = "transparent"),
  message = FALSE,
  warning = FALSE,
  cache = FALSE,
  echo = FALSE,
  autodep = TRUE
)
```

```{r library, include = FALSE}
library(tidyverse)
library(visdat)
library(naniar)
library(gganimate)
library(knitr)
library(ggrepel)
```



```{r helpers, include=FALSE}
theme_set(
  theme_grey(base_size = 16) +
  theme(
    legend.position = "bottom",
    plot.background = element_rect(fill = "transparent"),
    legend.background = element_rect(fill = "transparent")
  )
)

# **ni**ck's **pa**lette
nipa <- list(red = "#c03018",
             orange = "#f0a800",
             green = "#609048",
             purple = "#484878",
             light_purple = "#A3A3BB",
             light_green = "#AFC7A3",
             light_orange = "#F7D37F",
             light_red = "#DF978B",
             pale_purple = "#ECECF1",
             pale_green = "#D7E3D1",
             pale_orange = "#FBE9BF",
             pale_red = "#EFCBC4")

```


# We need software to do research

- What software do people use in research?
- Has anyone written software for their research and released it into the wild?
- Could you do research without software?
- We need software to do research!
- High profile examples
  - Black hole example from Python
  - COVID graphics from Casey Briggs
  - COVID modelling for Australian government

# Writing research software is a research contribution

- Software is a legitimate form of research controbution
- Functions are tools to help us manage complexity
- Functions allow you to abstract complexity so you can individually reason with them
- Fundamentally this is what software helps us to do
  - MAchine code --> Assembly --> FORTRAN --> C --> R --> ggplot
  - We don't care how the square root happens, just that it does
- Abstraction of complexity - similarities between software and maths
  - 1,000,000 vs 1000000 vs 10^6^
  - Unmasking theta method paper
  - *Your favourite notation example?
  - notation example from Hadley and Jenny
- This means that it is not just statistical models, but things like dplyr, ggplot

# BUT research software is critically underfunded and now acknowledged. We continue to lose people

- We need to think about how we fund and support those who write/maintain software
- Sad example stories
  - Creator of NumPY and SciPY - used these to get tenure track, was rejected
  - * do you know people who have been promoted for software?
- Getting credit
  - citing software via papers
  - issues with writing code, tests, docs, THEN a paper
  - JSS is good, but hard to write these papers + wait time is long
  - JOSS provides an alternative where people review the code, an the papper is short
  - rOpenSci stats peer review is another exciting example
- There needs to be jobs for people focussing on writing software as their primary output
- This leads into the need for RSEs
- Otherwise we lose people
  - where do they go? Industry?
  - Maayyybe some people develop software at google and facebook
  - Do we really want those really talented coders and maths/stats people to not train
    the next generation? Is it bad that people develop at facebook / google and not at university?
- Happy example of people being promoted for software
  - FireDrake
  - LEAN
- How do you fund research software? Astropy example of where this is difficult
  

# SO we must fund these people and acknowledge software
 
- What dsoes a reseaexh software engineer do?
- PI shaped researcher
- RSEs acan make research more producictive
- Proactive vs Reactive research software
  - Proactive: designs code that can be maintaed easily, for 10 years, is documented well, is tested, is maintainable
  - Reactive: taking existing code and cleaning it up so it can be used for other use cases
- More haste less speed: do it well so you can do it quickly
- Examples of the types of RSE projects
  - What sort of skillset they need, and how it contributes to reserach impacrt
- How to train an RSE (not just an army of PhD students)
- How would having an RSE inprove the impact of the work?
- How do you hire more RSEs in your work?


---
class: inverse, middle, center

# What software do people use in their research?


---
class: inverse, middle, center

# Has anyone written software for their research and released it into the wild?

---

# Could you do your research without software?

(R, Matlab, C, FORTRAN)

---

# Conclusion: We need software to do our research

---

# Software can be the realisation of research

e.g.,

- `forecast` by Rob Hyndman
- `robotics vision toolbox` in MatLab
- `ggplot2` by Hadley Wickham
- `dplyr` by Hadley Wickham


The point of this section is to discuss the various ways for these avenues to work 
is to highlight JOSS, and also discuss some approaches that people take,
and how some types of software don't always fit into these boxes,
and that creating software means it is not done, things break, and you need
to maintain that software, which there current'y aren't many incentives for you
to do so

---

# Avenues for counting software as research

Number 1 - the statistical methods.

- You create a new method
- You write the code to implement the new method
- You make sure the code is easy to use for other people
- You write documentation for the software
- You write tests to ensure the software works
- You write a paper about the new method, which links the paper to the method, to the software
- The reviewers review the paper, and typically do not review the software

Journals:

- Journal of Statistical Software
- Journal of Open Research Software

---

# Some issues with this approach

You are writing several times:

1. Write the method.
2. Write the code
3. Iterate on the code interface
4. Write tests
5. Documentation
6. Then an entire paper.

---

# Avenues for counting software as research

Number 2 - JOSS 

- Write the code, tests, documentation, everything.

The paper is a short 1-2 page abstract.
The code gets reviewed
The paper is a brief advertisement for the software

The paper provides a link to the software. It means the person can write
software and not need to write an entire large paper.

See paper (JOSS lessons ....)

---
# What is the point of this talk?

- What does a research software engineer do?
- The history of research software in academia
- Do we need research software in academia?
- Why we need to consider software as academic output
- What I do in a day to day role
- What Academia, and you, can do to help

???

Basically I think that there

---
class: inverse, middle, centre

.huge[
(My) Background
]

???

 I want to talk a bit about where I've started from, because I think it might be useful to understand my perspective, and why I'm interested in doing these things.

---

## Background: Undergraduate in Psychology

.pull-left[
- Statistics
- Experiment Design
- Cognitive Theory
- Neurology
- Humans
]

.pull-right[
```{r psych, out.width = "80%"}
include_graphics("imgs/psy_brain.png")
```
]

---

## Background: Honours

.left-code[
Psychophysics: illusory contours in 3D

```{r phil-grove, out.width = "50%"}
include_graphics("imgs/phil-grove.jpeg")
```

Phil Grove

]

.right-plot[
```{r kanizsa-triangle}
include_graphics("imgs/kanizsa-triangle.png")
```
]

---

## Background: Undergraduate

.left-code.medium[
```{r christina-lee, out.width = "50%"}
include_graphics("imgs/christina-lee.jpeg")
```

Christina Lee

]

.right-plot.medium[
> If every psychologist in the world delivered gold standard smoking cessation therapy, the rate of smoking would still increase. You need to change policy to make change. To make effective policy, you need to have good data, and do good statistics.
]

???

I discovered an interest in public health and statistics.

---

## Background: PhD

.pull-left.large[
- "Ah, statistics, everything is black and white!
- "There's always an answer"
- "Data in, answer out"
]


.pull-right[
```{r bw-mountains}
include_graphics("imgs/bw-mountains.jpg")
```

]

???

I started a PhD in statistics at QUT, under (now distinguished) Professor Kerrie Mengersen, Looking at people's health over time.

- There were several things that I noticed:
  - There were equations, but not as many clear-cut, black and white answers
  
---

## Background: PhD

.pull-left.large[

- Data is really messy
- Missing values are frustrating
- How to Explore data?

]

.pull-right[
```{r explorer}
include_graphics("imgs/explorer.jpg")
```

]


  
---

## Background: PhD - But in psych

.pull-left.large[
- Focus on experiment design
- No focus on exploring data
- Exploring data felt...wrong?
- But it was so critical.
]

.pull-right[
```{r sound-barrier}
include_graphics("imgs/sound-barrier.jpg")
```

]


---

## (My personal) motivation

.large[
- A lot of research in new statistical methods - imputation, inference, prediction
- Not much research on how we explore our data, and the methods that we use to do this.
]

---

## (My personal) motivation

.pull-left[
```{r bw-bridge}
include_graphics("imgs/bw-bridge.jpg")
```

]

.pull-right.large[
  > Focus on building a bridge across a river. Less focus on **how** it is built, and the **tools** used.
]

???

- I became very interested in how we explore our data - exploratory data analysis.

---
class: inverse, middle, center

.huge[
My research:

Design and improve tools for (exploratory) data analysis
]

---
    
# EDA: Exploratory Data Analysis

.large[
> ...EDA is an approach to analyzing data sets to summarize their main characteristics, often with visual methods. (Wikipedia)

John Tukey, Frederick Mosteller, Bill Cleveland, Dianne Cook, Heike Hoffman, Rob Hyndman, Hadley Wickham
]

---

# EDA: Why it's worth it

--

```{r dino-saurus}
include_graphics("gifs/dino-saurus.gif")
```

-- From ["Same Stats, Different Graphs: Generating Datasets with Varied Appearance and Identical Statistics through Simulated Annealing"](https://www.autodeskresearch.com/publications/samestats)

---
class: inverse, middle, center


```{r learn-more, echo = FALSE, out.width = "70%"}
include_graphics("imgs/hex-visdat-and-naniar.png")
```

.pull-left[
.center[
.hugew[
[visdat.njtierney.com](https://visdat.njtierney.com)
]
]
]

.pull-right[
.center[
.hugew[
[naniar.njtierney.com](https://naniar.njtierney.com)
]
]
]

---

## `visdat`

.pull-left[
```{r show-visdat-hex}
include_graphics("imgs/hex-visdat.png")
```
]

.pull-right[

[![rOpenSci Badge](https://badges.ropensci.org/87_status.svg)](https://github.com/ropensci/onboarding/issues/87)[![JOSS status](http://joss.theoj.org/papers/c85f57adbc565b064fb4bfc9b59a1b2a/status.svg)](http://joss.theoj.org/papers/c85f57adbc565b064fb4bfc9b59a1b2a)[![DOI](https://zenodo.org/badge/50553382.svg)](https://zenodo.org/badge/latestdoi/50553382)

> published under "visdat: Visualising Whole Data Frames" in the Journal of Open Source Software

]

---


## `visdat::vis_dat(airquality)`

```{r show-visdat, fig.height = 3.5, fig.width = 8, out.width = "150%"}
vis_dat(airquality)
```


---

## `visdat::vis_miss(airquality)`

```{r show-vis-miss, fig.height = 3.5, fig.width = 8, out.width = "150%"}
vis_miss(airquality)
```


---

## `naniar`

.left-code[
```{r show-naniar-hex}
include_graphics("imgs/hex-naniar.png")
```
]

.right-plot.large[
  
Tierney, NJ. Cook, D. "Expanding tidy data principles to facilitate missing data exploration, visualization and assessment of imputations." [[In-Press (JSS)](https://arxiv.org/abs/1809.02264)]

]

---

## `naniar::gg_miss_var(airquality)`

```{r gg-miss-var, fig.height = 3.5, fig.width = 8, out.width = "150%"}
gg_miss_var(airquality)
```


---

## `naniar::gg_miss_upset(airquality)`

```{r gg-miss-upset, fig.height = 3.5, fig.width = 8, out.width = "150%"}
gg_miss_upset(airquality)
```

---

- Slides on using `brolgar` - to go from messy spaghetti, to different samples, to focussed and coordinated sampling/arranging.


Put More slides here.

---

# Sad quote

> Every great open source math library is built on the ashes of someone's academic career

Travis Oliphant

- Created SciPy
- Author of NumPy
- Didn't get tenure based on this work, despite it being the foundation for
using python for mathematics

Continuum analytics

---

Twitter thread containing resources to read

https://twitter.com/nj_tierney/status/1440562571447193608

---

# Current work

- Working on `{greta}` R package for statistical analysis
- Developing statistical software for use in malaria and COVID19 modelling
- Developing pipelines to run infectious disease modelling for COVID19 with Doherty Group

---

# {greta}


---

# Malaria modelling

- {`yahtsee`}



---

# Covid19 modelling

- `conmat`

- facilitates fitting

---

# Why we need to consider software as academic output


---
# Changing how we think about a problem 

*gif of scotty saying, "I didn't think about space being the thing that is moving!"*

>  Users often remark on the ease of  manipulating data with dplyr and it is natural to wonder if perhaps the task itself is trivial.  We claim it is not. Many probability challenges become dramatically easier, once you strike  upon the "right" notation. In both cases, what feels like a matter of notation or syntax is  really a more about exploiting the "right" abstraction.

-- Hadley Wickham & Jenny Bryan

---
# Some ideas

- Research money for maintenance of existing software
- Seed funding for 



---

- Why we need to consider software as academic output
# The relationship between software, interface, notation, design, and proofs.

Understanding how complex things can be represented in simpler ways is a useful contribution.

Notation and interface helps us do more, and think clearly.

There's a nice example of this with Rob Hyndman and Baki Billah's paper, ["Unmasking the theta method"](https://robjhyndman.com/papers/Theta.pdf).

> The "Theta method" of forecasting performed particularly well in the M3- competition and is therefore of interest to forecast practitioners. The description of the method given by Assimakopoulos and Nikolopoulos (2000) involves several pages of algebraic manipulation and is difficult to comprehend. We show that the method can be expressed much more simply; furthermore we show that the forecasts obtained are equivalent to simple exponential smoothing with drift.

---
# What does academia value?

> The incentive structures of academic statistics still signal that mathematical statistics and the creation of new models and inferential procedures are more valuable than work related to data manipulation, visualisation, and programming. This is reflected in the content of for-credit courses, qualifying exams, and standards for funding and promotion.... It can be very difficult to  present modern data scientific work as impactful scholarly activity, when the system still  defines that primarily as theory and methodology papers.

-- Hadley Wickham & Jenny Bryan

---

> The basic practices of modularity, testing, version control, packaging, and interface design are not mere niceties. They determine whether data scientific  products can actually be trusted and built upon, like a proof in mathematics

-- Hadley Wickham & Jenny Bryan


---

>  It doesn’t matter how good a theoretical solution is, unless there are 
practical tools that implement it. We must also recognise that humans are an essential part 
of the data science process and study how they can interact with the computer most 
effectively. Finding useful abstractions and exposing them through programming languages 
is an important part of this process

-- Hadley Wickham & Jenny Bryan

Data  Science:  A  Three  Ring  Circus  or  a  Big  Tent?

---

>  The first is that "the NSF hasn’t funded software development for many years now, yet software continues to be written, so...?" The second is that the NSF "would consider funding software, but only once it has reached the point where it’s very mature and has a large number of users." These opinions reflect a gross misunderstanding of the amount of time, effort, and expertise it takes to develop software, let alone specialized, scientific software.

This is in reference to the software, Astropy, which:

> ... these bodies not only uses Astropy, but critically depends on it. All NASA mission
pipelines, from the venerable Hubble Space Telescope to the upcoming WFIRST, use Astropy, and increasingly so every day

> For much of the community, software is something that just "happens" and is expected to be free. However, there is a cost and it is clear who is paying it. The early career astronomers who contribute the lion’s share of the effort do so at the expense of their research and publication output.

> " We measure success in science by how many people use the results of or are impacted by our work. We are encouraged to publish our results so that others build upon them, which are measured by the number of citations. While there is an Astropy paper, there is no doubt that the library is used by far more people than actually cite it – probably close to an order of magnitude. The number of astronomers whose work was built with the assistance of Astropy rivals or exceeds the most well-cited papers. This alone should have led to the equivalent of tenured positions for the principal developers of Astropy – certainly tenured positions have been awarded to those less impactful. Such positions in software development don’t exist in our community."

-- [The Astropy Problem](https://arxiv.org/pdf/1610.03159.pdf) 
-- ... et. al

---

# The alternatives:

---

# Take homes

- Writing software is a legitimate form of research contribution
- We need to think about how we fund and support those who write software
- RSEs can help make researchers more productive

---

# Future Directions

.large[
- More features
- More features
- More features
]

---

# Test

.small[small]
.

---

# Thanks

.large.pull-left[
- So many great people
]

.large.pull-right[
- So many great people
- So many great people
- So many great people
- So many great people
]

---

# Resources

.large[
- [Data  Science:  A  Three  Ring  Circus  or  a  Big  Tent?](https://arxiv.org/pdf/1712.07349.pdf)
- [A National Agenda for Research Software](https://zenodo.org/record/4940274)
]

- [The Origins of SageMath; I am leaving academia to build a company](https://www.youtube.com/watch?v=6eIoYMB_0Xc&t=1883s)
- []()
- []()
- []()
- []()

---

# Colophon

.large[
- Slides made using [xaringan](https://github.com/yihui/xaringan)
- Extended with [xaringanthemer](https://github.com/gadenbuie/xaringanthemer)
- Colours taken + modified from [lorikeet theme from ochRe](https://github.com/ropenscilabs/ochRe)
- Header font is **Josefin Sans**
- Body text font is **Montserrat**
- Code font is **Fira Mono**
- template available: [njtierney/njt-talks](github.com/njtierney/njt-talks)
]

---

# Learning more

.large[
`r icons::fontawesome("link")` [talk link]()

`r icons::fontawesome("twitter")` nj_tierney

`r icons::fontawesome("github")` njtierney

`r icons::fontawesome("paper-plane")` nicholas.tierney@gmail.com

]


---

.vhuge[
**End.**
]
